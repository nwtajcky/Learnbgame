/*----------------------------------------- */
/*   Cycles NPR Kit
/*   Cogumelo Softworks 2017
/*   Spherilize Normals
/*------------------------------------------*/

shader SimplifyNormals
(
    vector Normal = N,
    vector Offset = vector(0,0,0),
    float Intensity = 1,
    output vector Vector = vector(0,0,0)
)

{    
    Vector = mix(Normal,normalize(transform("object",P)-Offset),clamp(Intensity,0,1));
}